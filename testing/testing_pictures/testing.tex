\documentclass[a4paper]{book}

\input{e_testing}

\newcounter{useexternal} \setcounter{useexternal}{1} 
\ifthenelse{\value{useexternal}=1}{ \usetikzlibrary{external} \tikzexternalize }{ \newcommand{\tikzsetnextfilename}[1]{} } 


\begin{document}

\author{Laurent Claessens}
\title{My big bunch of pictures}
\maketitle

\input{1_testing}
\input{testing_body}

\end{document}
